(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{656:function(t,e,n){"use strict";n(16);var r={data:function(){return{isTimerEnabled:!0,timerId:null,timerInterval:6e4}},watch:{isTimerEnabled:function(){this.resetTimer()},timerInterval:function(){this.resetTimer()}},mounted:function(){this.resetTimer()},beforeDestroy:function(){this.clearTimer()},methods:{clearTimer:function(){this.timerId&&clearTimeout(this.timerId),this.timerId=null},resetTimer:function(){var t=this;this.clearTimer(),this.isTimerEnabled&&(this.timerId=setTimeout(function(){Promise.resolve().then(t.timerCallback).finally(t.resetTimer)},this.timerInterval))},timerCallback:function(){}}};e.a=r},689:function(t,e,n){"use strict";var r=n(180),o=n(33),l=n(4),c=n(9);e.a=Object(l.a)(r.a,o.a).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){if(!this.$scopedSlots.default&&void 0===this.value)return Object(c.c)("v-hover is missing a default scopedSlot or bound value",this),null;var element=void 0;return this.$scopedSlots.default?element=this.$scopedSlots.default({hover:this.isActive}):this.$slots.default&&1===this.$slots.default.length&&(element=this.$slots.default[0]),Array.isArray(element)&&1===element.length&&(element=element[0]),element&&!Array.isArray(element)&&element.tag?(this.disabled||(element.data=element.data||{},this._g(element.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),element):(Object(c.c)("v-hover should only contain a single element",this),element)}})},711:function(t,e){var n="__googleMapsApiOnLoadCallback",r=["channel","client","key","language","region","v"],o=null;t.exports=function(t){return t=t||{},o||(o=new Promise(function(e,o){var l=setTimeout(function(){window[n]=function(){},o(new Error("Could not load the Google Maps API"))},t.timeout||1e4);window[n]=function(){null!==l&&clearTimeout(l),e(window.google.maps),delete window[n]};var c=document.createElement("script"),d=["callback="+n];r.forEach(function(e){t[e]&&d.push(e+"="+t[e])}),t.libraries&&t.libraries.length&&d.push("libraries="+t.libraries.join(",")),c.src="https://maps.googleapis.com/maps/api/js?"+d.join("&"),document.body.appendChild(c)})),o}},783:function(t,e,n){"use strict";n.r(e);var r=n(23),o=(n(16),n(664)),l=n.n(o),c=n(711),d=n.n(c),m={disableDefaultUi:!1,draggable:!0,fullscreenControl:!0,mapTypeControl:!0,rotateControl:!0,scaleControl:!0,scrollwheel:!1,streetViewControl:!0,zoom:10,zoomControl:!0},v={props:{latLngLiteral:{default:null,type:Object},mapOptions:{default:null,type:Object},title:{default:"",type:String}},data:function(){return{googleMapsAPIKey:"AIzaSyC8zfohXmxg5VzAg9G2rCypfKmU-KpOv6k"}},watch:{latLngLiteral:function(t){this.maps&&this.map&&this.marker&&(this.latLng=new this.maps.LatLng(t),this.marker.setPosition(this.latLng),this.map.panTo(this.latLng))},title:function(t){this.maps&&this.map&&this.marker&&this.marker.setTitle(t)}},mounted:function(){var t=this;Promise.resolve(window.google).then(function(e){return e?e.maps:d()({key:t.googleMapsAPIKey})}).then(function(e){t.maps=e;var n=Object.assign({},m,t.mapOptions);t.latLngLiteral&&(t.latLng=new e.LatLng(t.latLngLiteral),Object.assign(n,{center:t.latLng})),t.map=new e.Map(t.$el,n);var r={map:t.map};t.latLng&&(r.position=t.latLng),t.title>""&&(r.title=t.title),r.position&&(t.marker=new t.maps.Marker(r),t.panToMarker(),t.centerChangedListener=l()(t.panToMarker,2e3),t.map.addListener("center_changed",t.centerChangedListener),t.marker.addListener("click",t.selectMarker))}).catch(function(e){t.$logger.log(e)})},beforeDestroy:function(){this.centerChangedListener&&this.centerChangedListener.cancel(),this.maps&&this.maps.event.clearInstanceListeners(window),this.maps&&this.maps.event.clearInstanceListeners(this.maps),this.maps&&this.map&&this.maps.event.clearInstanceListeners(this.map),this.maps&&this.marker&&this.maps.event.clearInstanceListeners(this.marker),this.latLng=this.maps=this.map=this.marker=this.centerChangedListener=null},methods:{panToMarker:function(){this.map&&this.marker&&this.map.panTo(this.marker.getPosition())},selectMarker:function(){this.$emit("select-marker",this.coordinates)}}},h=n(56),f=Object(h.a)(v,function(){var t=this.$createElement;return(this._self._c||t)("div")},[],!1,null,null,null).exports,_=(n(117),{props:{media:{default:null,type:Array}},computed:{url:function(){var t=this.media&&this.media.find(function(t){return"photo"===t.type});return t&&t.sizes.medium.url}}}),y=n(165),k=n.n(y),w=n(156),x=n(644),L=Object(h.a)(_,function(){var t=this.$createElement,e=this._self._c||t;return this.url?e("v-flex",[e("v-img",{attrs:{src:this.url}})],1):this._e()},[],!1,null,null,null),C=L.exports;k()(L,{VFlex:w.a,VImg:x.a});var T=n(656),S=n(48),I={components:{GoogleMap:f,MediaPhoto:C},middleware:["check-org","dt-unit-vocabulary","system-time-utc"],mixins:[T.a],data:function(){return{selectedStationId:null,timerInterval:6e4}},computed:Object(r.a)({},Object(S.c)(["getUnitAbbr","org"])),methods:Object(r.a)({},Object(S.b)(["getSystemTimeUTC"]),{timerCallback:function(){return this.getSystemTimeUTC()}})},V=n(657),M=n(160),O=n(626),j=n(677),A=n(637),$=n(151),E=n(628),z=n(689),P=n(157),D=n(153),U=n(154),K=n(630),B=n(635),F=Object(h.a)(I,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.org?n("v-layout",{attrs:{column:""}},[n("v-flex",[n("v-container",{attrs:{"grid-list-xl":""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("h2",{staticClass:"display-3 font-weight-light mb-2"},[t._v(t._s(t.org.name))]),t._v(" "),n("p",{staticClass:"subheading"},[t._v("\n            "+t._s(t.org.description)+"\n          ")])])],1),t._v(" "),n("feathers-vuex-find",{attrs:{query:{is_hidden:!1,organization_id:t.org._id,station_type:"weather",$sort:{name:1}},service:"stations"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isFindPending,o=e.items;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md8:""}},[n("v-autocomplete",{attrs:{items:o,label:r?"Loading...":"Search for a station",loading:r,flat:"","hide-details":"","hide-no-data":"","item-text":"name","item-value":"_id",outline:"",solo:""},model:{value:t.selectedStationId,callback:function(e){t.selectedStationId=e},expression:"selectedStationId"}})],1)],1)}}],null,!1,2480402564)}),t._v(" "),t.selectedStationId?n("feathers-vuex-get",{attrs:{id:t.selectedStationId,local:"",service:"stations"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return n("v-layout",{},[n("v-flex",[n("v-card",[n("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[t._v("\n                "+t._s(r.name)+"\n              ")]),t._v(" "),n("v-card-text",[n("v-layout",{attrs:{row:"",wrap:""}},[n("media-photo",{staticClass:"xs12 sm6 md4",attrs:{media:r.media}}),t._v(" "),r.geo&&r.geo.coordinates.length>1?n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-responsive",{attrs:{"aspect-ratio":"1"}},[n("google-map",{staticStyle:{width:"100%",height:"100%"},attrs:{"lat-lng-literal":{lat:r.geo.coordinates[1],lng:r.geo.coordinates[0]},"map-options":{draggable:!1,mapTypeControl:!1,rotateControl:!1,streetViewControl:!1}}})],1)],1):t._e(),t._v(" "),n("v-flex",{attrs:{xs12:"",md4:""}},[n("v-card",{attrs:{flat:""}},[n("v-list",{attrs:{"two-line":""}},[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(t._f("moment")(r.time,"",["utc"],["format","h:mm A"]))+"\n                              "+t._s(r.time_zone)+"\n                              "),n("em",[t._v("(UTC "+t._s(r.utcOffsetHours)+" hours)")])])],1)],1),t._v(" "),n("v-divider"),t._v(" "),r.geo&&r.geo.coordinates.length>1?n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(r.geo.coordinates[1])+"°,\n                              "+t._s(r.geo.coordinates[0])+"°")]),t._v(" "),n("v-list-tile-sub-title",[t._v("Coordinates")])],1)],1):t._e(),t._v(" "),r.geo&&r.geo.coordinates.length>2?n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(t._f("math")(r.geo.coordinates[0],"",["round",1]))+"\n                              "+t._s(t.getUnitAbbr("Meter")))]),t._v(" "),n("v-list-tile-sub-title",[t._v("Elevation")])],1)],1):t._e()],1)],1)],1)],1)],1),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{to:{name:"orgs-orgSlug-datastreams",params:{orgSlug:t.org.slug},query:{stationId:t.selectedStationId}},color:"primary",exact:"",flat:"",nuxt:""}},[t._v("Datastreams")]),t._v(" "),t._l(r.external_links||[],function(link,i){return n("v-btn",{key:i,attrs:{href:link.url,color:"primary",flat:"",target:"_blank"}},[t._v("\n                  "+t._s(link.title))])})],2)],1)],1)],1)}}],null,!1,3465321597)}):t._e(),t._v(" "),n("v-layout",{attrs:{row:"",wrap:"","mt-4":""}},[n("feathers-vuex-find",{attrs:{query:{is_hidden:!1,organization_id:t.org._id,$limit:0},service:"stations"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.pagination;return r?n("v-flex",{attrs:{xs12:"",sm4:""}},[n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.hover;return n("v-card",{staticClass:"white--text",class:"elevation-"+(o?8:2),attrs:{color:"blue-grey darken-2"}},[n("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[t._v("\n                  "+t._s(t._f("get")(r,"total",0))+" stations\n                ")]),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{disabled:"",flat:"",dark:""}},[t._v("Map")])],1)],1)}}],null,!0)})],1):t._e()}}],null,!0)}),t._v(" "),n("feathers-vuex-find",{attrs:{query:{is_hidden:!1,organization_id:t.org._id,$limit:0},service:"datastreams"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.pagination;return r?n("v-flex",{attrs:{xs12:"",sm4:""}},[n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.hover;return n("v-card",{staticClass:"white--text",class:"elevation-"+(o?8:2),attrs:{color:"blue-grey darken-2"}},[n("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[t._v("\n                  "+t._s(t._f("get")(r,"total",0))+" datastreams\n                ")]),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{to:{name:"orgs-orgSlug-datastreams",params:{orgSlug:t.org.slug}},exact:"",flat:"",dark:"",nuxt:""}},[t._v("Search")])],1)],1)}}],null,!0)})],1):t._e()}}],null,!0)})],1)],1)],1)],1):t._e()},[],!1,null,null,null);e.default=F.exports;k()(F,{VAutocomplete:V.a,VBtn:M.a,VCard:O.a,VCardActions:j.a,VCardText:j.b,VCardTitle:A.a,VContainer:$.a,VDivider:E.a,VFlex:w.a,VHover:z.a,VLayout:P.a,VList:D.a,VListTile:U.a,VListTileContent:K.a,VListTileSubTitle:K.b,VListTileTitle:K.c,VResponsive:B.a})}}]);